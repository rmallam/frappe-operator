apiVersion: v1
kind: ConfigMap
metadata:
  name: frappe-operator-config
  namespace: frappe-operator-system
data:
  # Default domain suffix for auto-detected sites
  # Override per-bench or per-site as needed
  defaultDomainSuffix: ".myplatform.com"
  
  # Ingress controller service to detect domain from
  ingressControllerService: "ingress-nginx-controller"
  ingressControllerNamespace: "ingress-nginx"
  
  # Git configuration
  # Set to "false" to disable Git-based app installation (enterprise mode)
  # Individual benches can override this setting
  gitEnabled: "false"
  
  # FPM CLI path in container
  fpmCliPath: "/usr/local/bin/fpm"
  
  # FPM default repositories (JSON array)
  # These repositories are available to all benches
  # Benches can add additional repositories in their spec
  fpmRepositories: |
    [
      {
        "name": "frappe-community",
        "url": "https://fpm.frappe.io",
        "priority": 100
      }
    ]
  
  # Default image configuration
  # These defaults are used when not specified in bench.spec.imageConfig
  # Individual benches can override these in their spec.imageConfig
  defaultFrappeImage: "docker.io/frappe/erpnext:latest"
  defaultMariaDBImage: "docker.io/library/mariadb:10.6"
  defaultPostgresImage: "docker.io/library/postgres:15-alpine"
  defaultRedisImage: "docker.io/library/redis:7-alpine"
  defaultNginxImage: "docker.io/library/nginx:1.25-alpine"

